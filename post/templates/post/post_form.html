{% extends "form_base.html" %}

{% block method %}post{% endblock %}

{% block action %}{% url 'write_post' %}{% endblock %}

{% block content %}

<div class="mb-3 mt-3">
    <label for="title" class="form-label">Title:</label>
    <input type="text" class="form-control" id="title" placeholder="Write a title" name="title", value="{{ form.title.value|default_if_none:'' }}">
    {% if form and "title" in form.errors %}
    <ul class="text-danger">
        {% for error in form.errors.title %}
        <li>{{ error }}</li>
        {% endfor %}
    </ul>
    {% endif %}
</div>
<div class="mb-3">
    <label for="content" class="form-label">Post content:</label>
    <textarea name="content" id="content" placeholder="Write your post" rows="10" class="form-control"></textarea>
    {% if form and "content" in form.errors %}
    <ul class="text-danger">
        {% for error in form.errors.content %}
        <li>{{ error }}</li>
        {% endfor %}
    </ul>
    {% endif %}
</div>
<div class="mb-3">
    <label for="categories" class="form-label">Select categories:</label>
    <select name="categories" id="categories" class="form-select" multiple>
        {% for category in categories %}
        <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
    </select>
    {% if form and "categories" in form.errors %}
    <ul class="text-danger">
        {% for error in form.errors.categories %}
        <li>{{ error }}</li>
        {% endfor %}
    </ul>
    {% endif %}
</div>

{% endblock %}

{% block submit %}Publish{% endblock %}